(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{486:function(s,a,t){"use strict";t.r(a);var n=t(20),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"jenkinsæ­å»º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jenkinsæ­å»º"}},[s._v("#")]),s._v(" jenkinsæ­å»º")]),s._v(" "),t("h4",{attrs:{id:"_1-ç¯å¢ƒä¿¡æ¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç¯å¢ƒä¿¡æ¯"}},[s._v("#")]),s._v(" 1.ç¯å¢ƒä¿¡æ¯")]),s._v(" "),t("div",{staticClass:"language-tex line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-tex"}},[t("code",[s._v("JDK1.8\nmaven 3.5.4\njenkins laster \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"_2-mavené…ç½®ä»“åº“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-mavené…ç½®ä»“åº“"}},[s._v("#")]),s._v(" 2.mavené…ç½®ä»“åº“")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mirrors")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mirror")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("nexus-aliyun"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("mirrorOf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("central"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("mirrorOf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("Nexus aliyun"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("http://maven.aliyun.com/nexus/content/groups/public"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("url")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("mirror")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\t\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("mirrors")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h4",{attrs:{id:"_3-dockeræ–¹å¼å®‰è£…jekins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-dockeræ–¹å¼å®‰è£…jekins"}},[s._v("#")]),s._v(" 3.dockeræ–¹å¼å®‰è£…jekins")]),s._v(" "),t("p",[s._v("â€‹\t3.1 dockeræ‹‰å–jekins")]),s._v(" "),t("div",{staticClass:"language-tex line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-tex"}},[t("code",[s._v("docker pull jenkins/jenkins:lts\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("â€‹\t3.2 åˆ›å»ºæŒ‚è½½ç›®å½• å¹¶å¼€æ”¾è¯»å†™æƒé™")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mkdir -p /opt/work/jenkins\nchmod 777 /opt/work/jenkins\nchown -R 1000 /opt/work/jenkins\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("â€‹\t3.3 å¯åŠ¨")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker run -d --name jenkins -p 9000:8080 -p 50000:50000  --restart=always -v /opt/work/jenkins:/var/jenkins_home -v /etc/localtime:/etc/localtime -v /opt/work/apache-maven-3.5.4:/usr/local/maven jenkins/jenkins:lts\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("â€‹\t3.4è¿›å…¥æ§åˆ¶å°")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("http://ip:9000\nç­‰å¾…ç•Œé¢åˆå§‹åŒ–è¿›å…¥è§£é”ç•Œé¢\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220419170953533.png",alt:"image-20220419170953533"}})]),s._v(" "),t("p",[s._v("3.5æŸ¥çœ‹åˆå§‹åŒ–å¯†ç ")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker exec -it jenkins bash\ncat /var/jenkins_home/secrets/initialAdminPassword\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("3.6é€‰æ‹©å®‰è£…æ’ä»¶çš„æ–¹å¼")]),s._v(" "),t("p",[s._v("â€‹\tå¦‚æœçŸ¥é“è¦å®‰è£…å“ªäº›æ’ä»¶ï¼Œå°±é€‰æ‹©å®‰è£…æ¨èçš„æ’ä»¶ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220419171142753.png",alt:"image-20220419171142753"}})]),s._v(" "),t("p",[s._v("3.7ç­‰å¾…å®‰è£…å®Œæˆï¼Œåç»­æ­¥éª¤æŒ‰ç…§ç•Œé¢æç¤ºå³å¯")]),s._v(" "),t("h4",{attrs:{id:"_4-å®‰è£…æ’ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-å®‰è£…æ’ä»¶"}},[s._v("#")]),s._v(" 4.å®‰è£…æ’ä»¶")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220419173953533.png",alt:"image-20220419173953533"}})]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ä¸»è¦å®‰è£…ä»¥ä¸‹å‡ ä¸ªæ’ä»¶ï¼Œåœ¨å³ä¸Šè§’è¿›è¡Œæœç´¢\nPublish Over SSH -- æœåŠ¡å™¨æ“ä½œæ’ä»¶ é…ç½®æœåŠ¡å™¨ä¿¡æ¯ -- æš‚æœªç”¨åˆ°è¯¥æ–¹å¼\nSSH2 Easy     -----  æœåŠ¡å™¨æ“ä½œæ’ä»¶ é…ç½®æœåŠ¡å™¨ä¿¡æ¯\nMaven Integration ----- mavenæ’ä»¶ å‘å¸ƒJARåŒ…ç”¨\nGit Parameter ----- gitæ’ä»¶\tæ‹‰å–ä»£ç ç”¨\nNodeJS Plugin ----- nodejsæ’ä»¶ å‘å¸ƒVUEç”¨\nå®‰è£…å®Œåé‡å¯å‹¾é€‰å³ä¸‹è§’é‡å¯æœåŠ¡\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220419174434105.png",alt:"image-20220419174434105"}})]),s._v(" "),t("h4",{attrs:{id:"_5-é…ç½®jenkins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-é…ç½®jenkins"}},[s._v("#")]),s._v(" 5.é…ç½®jenkins")]),s._v(" "),t("p",[s._v("è¿›å…¥é…ç½®ç•Œé¢")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220419172023563.png",alt:"image-20220419172023563"}})]),s._v(" "),t("p",[s._v("5.1å…¨å±€ç¯å¢ƒé…ç½®")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("è¿›å…¥å®¹å™¨\ndocker exec -it jenkins bash\næŸ¥çœ‹java home\necho $JAVA_HOME è·å–javaè·¯å¾„\nç•Œé¢ç‚¹å‡»æ–°å¢jdk å–æ¶ˆè‡ªåŠ¨å®‰è£…\n/opt/java/openjdk\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220419173114656.png",alt:"image-20220419173114656"}})]),s._v(" "),t("p",[s._v("5.2é…ç½®maven")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("å–æ¶ˆè‡ªåŠ¨å®‰è£…\nåœ¨ç¬¬3.3æ­¥éª¤ä¸­å¯åŠ¨æ—¶é…ç½®äº†mavenè·¯å¾„usr/local/maven å¤åˆ¶è·¯å¾„å¡«å…¥ä¸‹é¢æ¡†æ ¼\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220419173316137.png",alt:"image-20220419173316137"}})]),s._v(" "),t("p",[s._v("5.3é…ç½®nodejs")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("è¿™ä¸ªéœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œéœ€è¦æ ¹æ®ç›®å‰å¼€å‘çš„VUEç‰ˆæœ¬å®‰è£…å¯¹åº”çš„æ”¯æŒç‰ˆæœ¬ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ„å»ºå¤±è´¥ã€‚æˆ‘ç¬¬ä¸€æ¬¡å®‰è£…äº†nodejs14çš„ç‰ˆæœ¬å°±ç”±äºç‰ˆæœ¬è¿‡é«˜å¯¼è‡´æ„å»ºå¤±è´¥ï¼Œåæ¥é‡æ–°å®‰è£…äº†nodejs 12.16.2æ‰æ­£å¸¸æ„å»ºæˆåŠŸã€‚\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425142544749.png",alt:"image-20220425142544749"}})]),s._v(" "),t("h4",{attrs:{id:"_6-ç³»ç»Ÿé…ç½®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-ç³»ç»Ÿé…ç½®"}},[s._v("#")]),s._v(" 6.ç³»ç»Ÿé…ç½®")]),s._v(" "),t("p",[s._v("â€‹\tç‚¹å‡»ç³»ç»Ÿè®¾ç½®-ç³»ç»Ÿè®¾ç½® "),t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220419183338862.png",alt:"image-20220419183338862"}})]),s._v(" "),t("p",[t("strong",[s._v("6.1 Server Groups Center é…ç½®æœåŠ¡å™¨ä¿¡æ¯")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425143724262.png",alt:"image-20220425143724262.png"}})]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("é…ç½®å®Œæˆä¹‹å,éœ€è¦å…ˆä¿å­˜é€€å‡ºé…ç½®ç•Œé¢ï¼Œå†è¿›å…¥æ‰å¯ä»¥é…ç½®Server Listï¼Œå¦åˆ™å¯èƒ½æ‰¾ä¸åˆ°Server Group\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("6.2 é…ç½®Server Group List")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425144059505.png",alt:"image-20220425144059505"}})]),s._v(" "),t("h4",{attrs:{id:"_7-æ„å»ºjavaé¡¹ç›®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-æ„å»ºjavaé¡¹ç›®"}},[s._v("#")]),s._v(" 7.æ„å»ºjavaé¡¹ç›®")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ç‚¹å‡»å·¦ä¾§èœå•æ–°å»ºä»»åŠ¡ï¼Œç„¶åé€‰æ‹©æ„å»ºä¸€ä¸ªMAVENé¡¹ç›®\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"image-20220419181531513.png",alt:"image-20220419181531513"}})]),s._v(" "),t("p",[s._v("7.1æ„å»ºç­–ç•¥")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("æ„å»ºçš„ç‰ˆæœ¬ä¿ç•™å‡ ä¸ªä½œä¸ºå›æ»šå°±å¤Ÿäº†ï¼Œä¸éœ€è¦ä¸€ç›´ä¿ç•™ç€ï¼Œä»¥å…å ç”¨æœåŠ¡å™¨ç¡¬ç›˜èµ„æºã€‚\nç‚¹å‡»Generalå‹¾é€‰ä¸¢å¼ƒæ—§çš„æ„å»ºï¼Œæ ¹æ®å®é™…ä½¿ç”¨æƒ…å†µå¤‡ä»½ä»¥ä¸‹2ä¸ªä¿¡æ¯\n\tä¿æŒæ„å»ºçš„å¤©æ•°\n\tä¿æŒæ„å»ºçš„æœ€å¤§ä¸ªæ•°\nè¿˜å¯ä»¥å‹¾é€‰å‚æ•°åŒ–æ„å»ºè¿‡ç¨‹ï¼Œå¯¹ä¸€äº›ä¿¡æ¯å‚æ•°åŒ–ã€‚ï¼ˆè¿™ä¸€æ­¥æˆ‘æš‚æ—¶æœªåšï¼‰\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425144625500.png",alt:"image-20220425144625500"}})]),s._v(" "),t("p",[s._v("7.2 gité…ç½®")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ç‚¹å‡»æºç ç®¡ç†é…ç½®gitä¿¡æ¯ï¼Œè¾“å…¥URL æ·»åŠ è®¤è¯ é€‰æ‹©è¦æ„å»ºçš„åˆ†æ”¯\nå¦‚æœåšäº†å‚æ•°åŒ–æ„å»ºï¼Œè¿™é‡Œå°±å¯ä»¥é…ç½®å‚æ•°ã€‚\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220419181923115.png",alt:"image-20220419181923115"}})]),s._v(" "),t("p",[s._v("7.3 å–æ¶ˆæ„å»ºè§¦å‘å™¨")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("åœ¨æ„å»ºè§¦å‘å™¨ å–æ¶ˆå‹¾é€‰ â€œBuild whenever a SNAPSHOT dependency is builtâ€\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("7.4 é…ç½®mavenæ„å»ºå‘½ä»¤")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("å¦‚æœæ˜¯å•æ¨¡å—é¡¹ç›®ï¼Œåˆ™ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯\nclean install xxx -Dmaven.test.skip=true\nå¦‚æœæ˜¯å¤šæ¨¡å—é¡¹ç›®ï¼Œåˆ™éœ€è¦ç¡®è®¤æ„å»ºçš„æ‰§è¡Œé¡¹ç›®\nclean install -pl xxx -am -amd -Dmaven.test.skip=true\n-pl æ ‡è¯†æŒ‡å®šæ„å»ºæŸä¸ªæ¨¡å—\n-am æ˜¯å‘ä¸‹çš„ã€‚è¡¨ç¤ºåŒæ—¶å¤„ç†é€‰å®šæ¨¡å—æ‰€ä¾èµ–çš„æ¨¡å—ã€‚\n-amd æ˜¯å‘ä¸Šçš„ã€‚è¡¨ç¤ºåŒæ—¶å¤„ç†ä¾èµ–é€‰å®šæ¨¡å—çš„æ¨¡å—ã€‚\nä½¿ç”¨-amã€-amdç­‰æ—¶å€™ï¼Œå¿…é¡»é…åˆ-plæŒ‡å®šæ¨¡å—ä½¿ç”¨\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425145243439.png",alt:"image-20220425145243439"}})]),s._v(" "),t("p",[s._v("7.5 é…ç½®FTPä¸Šä¼ ")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("æˆ‘æ²¡æœ‰ä½¿ç”¨SSHä¸Šä¼ æ–¹å¼ï¼ˆæ‡’çš„å¼„è¯ä¹¦ğŸ˜‚ï¼‰\né…ç½®FTPæ–¹å¼ä¸Šä¼ åŒ…\nRun only if build succeed æ ‡è¯†æ„å»ºæˆåŠŸåæ‰æ‰§è¡Œ\ntarget serverå¯¹åº”çš„æ˜¯jenkinså®¹å™¨é‡Œé¢çš„ç»å¯¹è·¯å¾„\n/var/jenkins_home/workspace/é¡¹ç›®è·¯å¾„/target/jaråŒ…å.jar\nremoteLocation  è¡¨ç¤ºè¦ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨çš„å“ªä¸ªä½ç½®\nfileName è¡¨ç¤ºä¸Šä¼ ä¹‹åæ–‡ä»¶çš„åç§°\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425150659343.png",alt:"image-20220425150659343"}})]),s._v(" "),t("p",[s._v("7.6 æ‰§è¡Œè¿œç¨‹è„šæœ¬æˆ–è€…å‘½ä»¤å‘èµ·éƒ¨ç½²")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425151109499.png",alt:"image-20220425151109499"}})]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dockeræ„å»ºéƒ¨ç½²å‘½ä»¤ä¾‹å­")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BUILD_ID")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dontKillMe \n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("innerport")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8086")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#dockerå®¹å™¨å†…éƒ¨ç«¯å£")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("outport")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#dockerå®¹å™¨å¤–éƒ¨ç«¯å£")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dockername")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("api "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å®¹å™¨åç§°")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("api-0.0.1-SNAPSHOT "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#jaråŒ…å")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("webdir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/work/api "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#dockeræ„å»ºè·¯å¾„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("backup")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/work/backup "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¤‡ä»½è·¯å¾„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bulid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/work/bulid "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#jenkins ä¸Šä¼ çš„è·¯å¾„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("date")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%Y%m%d%H%M"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¤‡ä»½çš„æ–‡ä»¶åç¼€")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"####### å¤‡ä»½jaråŒ… ##########"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$webdir")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v(".jar "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$backup")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$date")]),s._v(".jar "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¤‡ä»½å†å²ç‰ˆæœ¬")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$webdir")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v(".jar "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åˆ é™¤å†å²ç‰ˆæœ¬")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$bulid")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v(".jar "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$webdir")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v(".jar "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#æ‹·è´æœ€æ–°ç‰ˆæœ¬åˆ° æ„å»ºè·¯å¾„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"####### åˆ é™¤å½“å‰å®¹å™¨ ##########"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockername")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockername")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockername")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"####### åˆ¶ä½œæœ€æ–°çš„å½“å‰é•œåƒ ##########"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$webdir")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è¿›å…¥æ„å»ºè·¯å¾„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build -t "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockername")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"####### å¯åŠ¨å½“å‰æœ€æ–°çš„å®¹å™¨ ##########"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d --name "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockername")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$outport")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$innerport")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockername")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" $dockername"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -z "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pid}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"################################é¡¹ç›®å¯åŠ¨å¤±è´¥################################"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" dsadsadas "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä½¿jenkinså‘å¸ƒå¤±è´¥ï¼Œå¯¼è‡´æ„å»ºé¡¹ç›®ä¸ç¨³å®š")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"################################é¡¹ç›®å¯åŠ¨æˆåŠŸ#########################################"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br")])]),t("h4",{attrs:{id:"_8-æ„å»ºvueé¡¹ç›®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-æ„å»ºvueé¡¹ç›®"}},[s._v("#")]),s._v(" 8.æ„å»ºVUEé¡¹ç›®")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("å¤§éƒ¨åˆ†çš„æ“ä½œå’Œæ„å»ºJavaé¡¹ç›®ä¸€è‡´ï¼Œç•¥å¾®æœ‰ç‚¹å°åŒºåˆ«ã€‚\nç¬¬ä¸€æ­¥é€‰æ‹©æ„å»ºä¸€ä¸ªè‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®\nç¬¬ä¸€æ¬¡æ„å»ºè¦å®‰è£…nodejsï¼Œæ—¶é—´ä¼šä¹…ç‚¹\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425151507345.png",alt:"image-20220425151507345"}})]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("1-3æ­¥ä¸ç¬¬7ç‚¹ä¸€è‡´\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("8.1 æ„å»ºç¯å¢ƒé€‰æ‹©nodejs")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("1.è¦é€‰æ‹©å®‰è£…nodejsæ’ä»¶ï¼Œåœ¨ç¬¬4ç‚¹å·²å®‰è£…\n2.ç‚¹å‡»æ„å»ºç¯å¢ƒï¼Œå‹¾é€‰Provide Node & npm bin/ folder to PATH\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425152203592.png",alt:"image-20220425152203592"}})]),s._v(" "),t("p",[s._v("8.2æ–°å¢æ‰§è¡Œshellå‘½ä»¤")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("cnpm "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\ncnpm run build\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /var/jenkins_home/workspace/xxx\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -cvf dist.tar dist/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425152426427.png",alt:"image-20220425152426427"}})]),s._v(" "),t("p",[s._v("8.3 FTPä¸Šä¼ ")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425162417479.png",alt:"image-20220425162417479"}})]),s._v(" "),t("ol",{attrs:{start:"8"}},[t("li",[t("p",[s._v("4 æ‰§è¡Œè¿œç¨‹shellå‘½ä»¤")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425162613254.png",alt:"image-20220425162613254"}})])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BUILD_ID")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dontKillMe\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("innerport")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("outport")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dockername")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vue\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("web")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dist\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("webdir")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/work/vue\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("backup")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/work/backup\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bulid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/work/bulid\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("date")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%Y%m%d%H%M"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"####### å¤‡ä»½jaråŒ… ##########"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$webdir")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -cvf "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v(".tar  "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$webdir")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v(".tar "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$backup")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$date")]),s._v(".tar\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$webdir")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v(".tar\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$bulid")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v(".tar "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$webdir")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v(".tar\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvf "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v(".tar\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$web")]),s._v(".tar\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"####### åˆ é™¤å½“å‰å®¹å™¨ ##########"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockername")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockername")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockername")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"####### åˆ¶ä½œæœ€æ–°çš„å½“å‰é•œåƒ ##########"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build -t "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockername")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"####### å¯åŠ¨å½“å‰æœ€æ–°çš„å®¹å™¨ ##########"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d --name "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockername")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$outport")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$innerport")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockername")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pid")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" $dockername"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -z "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${pid}")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"################################é¡¹ç›®å¯åŠ¨å¤±è´¥################################"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" dsadsadas "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ä½¿jenkinså‘å¸ƒå¤±è´¥ï¼Œå¯¼è‡´æ„å»ºé¡¹ç›®ä¸ç¨³å®š")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"################################é¡¹ç›®å¯åŠ¨æˆåŠŸ#########################################"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br")])]),t("p",[s._v("8.5 ä¸Šä¼ æˆåŠŸä¹‹åï¼Œåˆ é™¤åŒ…")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cd /var/jenkins_home/workspace/xxx\nrm -rf dist.tar\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://images.yueshuge.cn:9000/images/jenkins/image-20220425164041411.png",alt:"image-20220425164041411"}})]),s._v(" "),t("h4",{attrs:{id:"_9-é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9-é—®é¢˜"}},[s._v("#")]),s._v(" 9.é—®é¢˜")]),s._v(" "),t("p",[s._v("ç›®å‰ç¢°åˆ°çš„å¤§éƒ¨åˆ†é—®é¢˜éƒ½æ˜¯æƒé™ä¸è¶³çš„é—®é¢˜")]),s._v(" "),t("p",[s._v("ä»“åº“çš„æƒé™ä¸è¶³")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("chmod 777 -R /jenkinsä¸»ç›®å½•/.m2/repository\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("bulid ç›®å½•æƒé™ä¸è¶³")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("chmod 777 -R xxx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("è„šæœ¬æ‰§è¡Œå¼‚å¸¸ shè„šæœ¬è¦é€šè¿‡touchåˆ›å»ºï¼Œå¦‚æœä»windowæ”¾ä¸Šå»æœ‰å­—ç¬¦çš„é—®é¢˜")])])}),[],!1,null,null,null);a.default=e.exports}}]);